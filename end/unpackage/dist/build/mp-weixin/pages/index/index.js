"use strict";const a=require("../../common/vendor.js"),t={data:()=>({curFontSize:"180rpx",showValue:0,firstValue:"",secondValue:"",operatorType:"",isCaculate:!1,buttons:[{text:"AC",class:"ft-color bg-gray ml-zero",func:"operator",params:"clear"},{text:"+/-",class:"ft-color bg-gray",func:"operator",params:"opposite"},{text:"%",class:"ft-color bg-gray",func:"operator",params:"percent"},{text:"÷",class:"bg-orange",func:"operator",params:"divide"},{text:"7",class:"bg-darkgray ml-zero",func:"inputText",params:"7"},{text:"8",class:"bg-darkgray",func:"inputText",params:"8"},{text:"9",class:"bg-darkgray",func:"inputText",params:"9"},{text:"×",class:"bg-orange",func:"operator",params:"multiply"},{text:"4",class:"bg-darkgray ml-zero",func:"inputText",params:"4"},{text:"5",class:"bg-darkgray",func:"inputText",params:"5"},{text:"6",class:"bg-darkgray",func:"inputText",params:"6"},{text:"-",class:"bg-orange",func:"operator",params:"minus"},{text:"1",class:"bg-darkgray ml-zero",func:"inputText",params:"1"},{text:"2",class:" bg-darkgray",func:"inputText",params:"2"},{text:"3",class:" bg-darkgray",func:"inputText",params:"3"},{text:"+",class:"bg-orange",func:"operator",params:"plus"},{text:"0",class:"btn-size2 bg-darkgray ml-zero",func:"inputText",params:"0"},{text:".",class:"bg-darkgray",func:"inputText",params:"."},{text:"=",class:"bg-orange",func:"operator",params:"result"}]}),watch:{showValue(a,t){switch((a+="").length){case 8:this.curFontSize="160rpx";break;case 9:this.curFontSize="150rpx";break;case 10:this.curFontSize="130rpx";break;case 11:this.curFontSize="120rpx";break;default:this.curFontSize="180rpx"}}},onLoad(){},methods:{operate(a){const t=a.func,e=a.params;switch(t){case"operator":this.operator(e);break;case"inputText":this.inputText(e)}},caculate(){switch(this.operatorType){case"plus":this.showValue=a.calc(`${this.firstValue} + ${this.showValue}`);break;case"minus":this.showValue=a.calc(`${this.firstValue} - ${this.showValue}`);break;case"multiply":this.showValue=a.calc(`${this.firstValue} * ${this.showValue}`);break;case"divide":this.showValue=a.calc(`${this.firstValue} / ${this.showValue}`)}},operator(t){switch(console.log("计算操作"),t){case"clear":this.showValue="0";break;case"opposite":this.showValue=-this.showValue;break;case"percent":this.showValue=a.calc(`${this.showValue} / 100`);break;case"result":this.caculate();break;default:this.operatorType=t,""!=this.firstValue&&this.caculate()}this.isCaculate=!0},inputText(a){if(console.log("输入操作"),this.isCaculate&&(this.firstValue=this.showValue,this.showValue="0",this.isCaculate=!1),!("."==a&&this.showValue.indexOf(".")>-1||this.showValue.length>=11||("."!=a&&"0"==this.showValue?this.showValue=a+"":this.showValue+=a+"","."==a||-1!=this.showValue.indexOf(".")))){let a=parseInt(this.showValue.replaceAll(",",""));this.showValue=a.toLocaleString()}}}};const e=a._export_sfc(t,[["render",function(t,e,s,r,c,o){return{a:c.curFontSize,b:c.showValue,c:a.o((a=>c.showValue=a.detail.value)),d:a.f(c.buttons,((t,e,s)=>({a:a.t(t.text),b:t.text,c:a.n(t.class),d:a.o((a=>o.operate(t)),t.text)})))}}]]);wx.createPage(e);
